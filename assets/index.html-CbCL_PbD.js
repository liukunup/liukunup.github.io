import{_ as i,c as e,e as a,o as l}from"./app-Dcft7Xc2.js";const n={};function t(h,s){return l(),e("div",null,[...s[0]||(s[0]=[a(`<p>官方文档请查看<a href="https://deepflow.io/docs/about/overview/" target="_blank" rel="noopener noreferrer">DeepFlow Docs</a></p><h2 id="deploy-all-in-one-deepflow" tabindex="-1"><a class="header-anchor" href="#deploy-all-in-one-deepflow"><span>Deploy All-in-One DeepFlow</span></a></h2><p>Download the DeepFlow docker-compose package</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">wget</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  https://deepflow-ce.oss-cn-beijing.aliyuncs.com/pkg/docker-compose/latest/linux/deepflow-docker-compose.tar</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">tar</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -zxf</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> deepflow-docker-compose.tar</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Configure the .env variables</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">vim</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ./deepflow-docker-compose/.env</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">DEEPFLOW_VERSION</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">v6.6</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # FIXME: DeepFlow Version</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">NODE_IP_FOR_DEEPFLOW</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">192.168.101.116</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # FIXME: Node IP</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Install DeepFlow</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">docker</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> compose</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> deepflow-docker-compose/docker-compose.yaml</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> up</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -d</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="deploy-deepflow-agent" tabindex="-1"><a class="header-anchor" href="#deploy-deepflow-agent"><span>Deploy DeepFlow Agent</span></a></h2><p>Refer to Monitor Traditional Servers to deploy deepflow-agent on this server.</p><h2 id="access-the-grafana-page" tabindex="-1"><a class="header-anchor" href="#access-the-grafana-page"><span>Access the Grafana Page</span></a></h2><p>After deploying through docker compose, point your browser to http://&lt;$NODE_IP_FOR_DEEPFLOW&gt;:3000 to log in to the Grafana console.</p><div class="hint-container info"><p class="hint-container-title">相关信息</p><p>Default credentials:</p><ul><li>Username: admin</li><li>Password: deepflow</li></ul></div><h2 id="download-deepflow-ctl" tabindex="-1"><a class="header-anchor" href="#download-deepflow-ctl"><span>Download deepflow-ctl</span></a></h2><p>deepflow-ctl is the command-line management tool for DeepFlow. It is recommended to deploy it on the K8s Node where deepflow-server is located for subsequent use in Agent group configuration management and other maintenance operations:</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Sync with the current server version</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Version</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">v6.6</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Download using variables</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">curl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -o</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /usr/bin/deepflow-ctl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \\</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">  &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">https://deepflow-ce.oss-cn-beijing.aliyuncs.com/bin/ctl/$Version/linux/</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">$(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">arch</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> |</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> sed</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">s|x86_64|amd64|</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> |</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> sed</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">s|aarch64|arm64|</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/deepflow-ctl</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Add execution permissions</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">chmod</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> a+x</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /usr/bin/deepflow-ctl</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,16)])])}const p=i(n,[["render",t]]),r=JSON.parse('{"path":"/homelab/deploy/deepflow/","title":"DeepFlow","lang":"zh-CN","frontmatter":{"title":"DeepFlow","createTime":"2025/10/15 09:30:10","permalink":"/homelab/deploy/deepflow/"},"readingTime":{"minutes":0.68,"words":204},"git":{"createdTime":1760522404000,"updatedTime":1760522404000,"contributors":[{"name":"刘坤","username":"","email":"liukunup@163.com","commits":1,"avatar":"https://gravatar.com/avatar/93adde9a3709e088c6c4b0bd8763791893e8be4840a992204be1ac5d20e50f0c?d=retro"}]},"filePathRelative":"homelab/2.部署指南/deepflow.md","headers":[]}');export{p as comp,r as data};
