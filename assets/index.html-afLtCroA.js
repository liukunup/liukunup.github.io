import{_ as k,c as r,d as h,a as d,w as e,r as p,o as c,b as s,e as i}from"./app-BxVB_gzI.js";const g={};function m(y,a){const t=p("Tabs");return c(),r("div",null,[a[4]||(a[4]=h(`<h2 id="ğŸš€-éƒ¨ç½²æŒ‡å—" tabindex="-1"><a class="header-anchor" href="#ğŸš€-éƒ¨ç½²æŒ‡å—"><span>ğŸš€ éƒ¨ç½²æŒ‡å—</span></a></h2><p>MySQL æ˜¯æœ€æµè¡Œçš„å¼€æºå…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿä¹‹ä¸€ã€‚</p><h3 id="å‡†å¤‡å·¥ä½œ" tabindex="-1"><a class="header-anchor" href="#å‡†å¤‡å·¥ä½œ"><span>å‡†å¤‡å·¥ä½œ</span></a></h3><p>åˆ›å»ºç”¨äºå­˜å‚¨æ•°æ®åº“æ•°æ®çš„æŒä¹…åŒ–ç›®å½•ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mkdir</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -p</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /share/Container/mysql/data</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mkdir</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -p</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /share/Container/mysql/conf.d</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å¯åŠ¨æœåŠ¡" tabindex="-1"><a class="header-anchor" href="#å¯åŠ¨æœåŠ¡"><span>å¯åŠ¨æœåŠ¡</span></a></h3>`,6)),d(t,{id:"16",data:[{id:"Docker Compose"},{id:"Docker CLI"}],active:0},{title0:e(({value:l,isActive:n})=>[...a[0]||(a[0]=[i("Docker Compose",-1)])]),title1:e(({value:l,isActive:n})=>[...a[1]||(a[1]=[i("Docker CLI",-1)])]),tab0:e(({value:l,isActive:n})=>[...a[2]||(a[2]=[s("div",{class:"language-yaml line-numbers-mode","data-highlighter":"shiki","data-ext":"yaml",style:{"--shiki-light":"#393a34","--shiki-dark":"#dbd7caee","--shiki-light-bg":"#ffffff","--shiki-dark-bg":"#121212"}},[s("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark vp-code"},[s("code",{class:"language-yaml"},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"services"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"  mysql"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"    image"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," mysql:8.0")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"    container_name"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," mysql")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"    restart"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," always")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"    environment"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"      MYSQL_ROOT_PASSWORD"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," my-secret-pw")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"      # å¯é€‰ï¼šåˆå§‹åŒ–åˆ›å»ºä¸€ä¸ªæ•°æ®åº“å’Œç”¨æˆ·")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"      # MYSQL_DATABASE: mydatabase")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"      # MYSQL_USER: myuser")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A0ADA0","--shiki-dark":"#758575DD"}},"      # MYSQL_PASSWORD: mypassword")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"    ports"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"      -"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},' "'),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"3306:3306"),s("span",{style:{"--shiki-light":"#B5695977","--shiki-dark":"#C98A7D77"}},'"')]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"    volumes"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"      -"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," /share/Container/mysql/data:/var/lib/mysql")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},"      -"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," /share/Container/mysql/conf.d:/etc/mysql/conf.d")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#998418","--shiki-dark":"#B8A965"}},"    command"),s("span",{style:{"--shiki-light":"#999999","--shiki-dark":"#666666"}},":"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," --character-set-server=utf8mb4 --collation-server=utf8mb4_unicode_ci")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])]),tab1:e(({value:l,isActive:n})=>[...a[3]||(a[3]=[s("div",{class:"language-bash line-numbers-mode","data-highlighter":"shiki","data-ext":"bash",style:{"--shiki-light":"#393a34","--shiki-dark":"#dbd7caee","--shiki-light-bg":"#ffffff","--shiki-dark-bg":"#121212"}},[s("pre",{class:"shiki shiki-themes vitesse-light vitesse-dark vp-code"},[s("code",{class:"language-bash"},[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#59873A","--shiki-dark":"#80A665"}},"docker"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," run"),s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}}," -d"),s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}}," \\")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}},"  --name"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," mysql"),s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}}," \\")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}},"  --restart"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," always"),s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}}," \\")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}},"  -p"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," 3306:3306"),s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}}," \\")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}},"  -v"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," /share/Container/mysql/data:/var/lib/mysql"),s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}}," \\")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}},"  -v"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," /share/Container/mysql/conf.d:/etc/mysql/conf.d"),s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}}," \\")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}},"  -e"),s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}}," MYSQL_ROOT_PASSWORD=my-secret-pw"),s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}}," \\")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#B56959","--shiki-dark":"#C98A7D"}},"  mysql:8.0"),s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}}," \\")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}},"  --character-set-server=utf8mb4"),s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}}," \\")]),i(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#A65E2B","--shiki-dark":"#C99076"}},"  --collation-server=utf8mb4_unicode_ci")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1)])]),_:1}),a[5]||(a[5]=h(`<h2 id="ğŸ“-ä½¿ç”¨è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#ğŸ“-ä½¿ç”¨è¯´æ˜"><span>ğŸ“ ä½¿ç”¨è¯´æ˜</span></a></h2><h3 id="å¸¸ç”¨å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#å¸¸ç”¨å‘½ä»¤"><span>å¸¸ç”¨å‘½ä»¤</span></a></h3><ol><li><p><strong>è¿›å…¥å®¹å™¨</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">docker</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> exec</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -it</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> mysql</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> bash</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p><strong>ç™»å½•æ•°æ®åº“</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mysql</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -u</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> root</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -p</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># è¾“å…¥å¯†ç : my-secret-pw</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>å¤‡ä»½æ•°æ®åº“</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">docker</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> exec</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> mysql</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> mysqldump</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -u</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> root</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -pmy-secret-pw</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --all-databases</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> all_databases.sql</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ol><h3 id="é…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#é…ç½®æ–‡ä»¶"><span>é…ç½®æ–‡ä»¶</span></a></h3><p>å¦‚æœéœ€è¦ä¿®æ”¹ MySQL é…ç½®ï¼Œå¯ä»¥åœ¨ <code>/share/Container/mysql/conf.d</code> ç›®å½•ä¸‹åˆ›å»º <code>.cnf</code> æ–‡ä»¶ã€‚ä¾‹å¦‚åˆ›å»º <code>custom.cnf</code>:</p><div class="language-ini line-numbers-mode" data-highlighter="shiki" data-ext="ini" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-ini"><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mysqld</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">max_connections</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">1000</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">default-time-zone</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">+08:00</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‡å¯å®¹å™¨ç”Ÿæ•ˆï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">docker</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restart</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> mysql</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="ğŸ”—-å‚è€ƒé“¾æ¥" tabindex="-1"><a class="header-anchor" href="#ğŸ”—-å‚è€ƒé“¾æ¥"><span>ğŸ”— å‚è€ƒé“¾æ¥</span></a></h2><ul><li><a href="https://hub.docker.com/_/mysql" target="_blank" rel="noopener noreferrer">MySQL Docker Hub</a></li><li><a href="https://dev.mysql.com/doc/" target="_blank" rel="noopener noreferrer">MySQL å®˜æ–¹æ–‡æ¡£</a></li></ul>`,10))])}const u=k(g,[["render",m]]),b=JSON.parse('{"path":"/homelab/deploy/mysql/","title":"MySQL","lang":"zh-CN","frontmatter":{"title":"MySQL","createTime":"2025/10/10 00:00:00","permalink":"/homelab/deploy/mysql/"},"readingTime":{"minutes":0.92,"words":277},"git":{"createdTime":1760092280000,"updatedTime":1768200356000,"contributors":[{"name":"åˆ˜å¤","username":"","email":"liukunup@163.com","commits":2,"avatar":"https://gravatar.com/avatar/93adde9a3709e088c6c4b0bd8763791893e8be4840a992204be1ac5d20e50f0c?d=retro"},{"name":"LiuKun/Windows","username":"","email":"liukunup@163.com","commits":1,"avatar":"https://gravatar.com/avatar/93adde9a3709e088c6c4b0bd8763791893e8be4840a992204be1ac5d20e50f0c?d=retro"},{"name":"LiuKun","username":"LiuKun","email":"liukunup@163.com","commits":1,"avatar":"https://avatars.githubusercontent.com/LiuKun?v=4","url":"https://github.com/LiuKun"}]},"filePathRelative":"homelab/2.éƒ¨ç½²æŒ‡å—/mysql.md","headers":[]}');export{u as comp,b as data};
