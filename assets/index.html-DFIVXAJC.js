import{_ as i,c as a,d as e,o as n}from"./app-BxVB_gzI.js";const l={};function t(h,s){return n(),a("div",null,[...s[0]||(s[0]=[e(`<p><mark>MinerU</mark>是一款将PDF转化为机器可读格式的工具（如markdown、json），可以很方便地抽取为任意格式。</p><p><a href="https://opendatalab.github.io/MinerU/zh/" target="_blank" rel="noopener noreferrer">MinerU官方文档</a></p><table><thead><tr><th><strong>解析后端</strong></th><th><strong>pipeline</strong></th><th><strong>vlm-transformers</strong></th><th><strong>vlm-vllm</strong></th></tr></thead><tbody><tr><td>操作系统</td><td>Linux / Windows / macOS</td><td>Linux / Windows</td><td>Linux / Windows (via WSL2)</td></tr><tr><td>CPU推理支持</td><td>✅</td><td>❌</td><td>❌</td></tr><tr><td>GPU要求</td><td>Turing及以后架构，6G显存以上或Apple Silicon</td><td>Turing及以后架构，8G显存以上</td><td>Turing及以后架构，8G显存以上</td></tr><tr><td>内存要求</td><td>最低16G以上，推荐32G以上</td><td>-</td><td>-</td></tr><tr><td>磁盘空间要求</td><td>20G以上，推荐使用SSD</td><td>-</td><td>-</td></tr><tr><td>Python版本</td><td>3.10 - 3.13</td><td>-</td><td>-</td></tr></tbody></table><h2 id="安装指南" tabindex="-1"><a class="header-anchor" href="#安装指南"><span>安装指南</span></a></h2><h3 id="使用pip或uv安装-mineru" tabindex="-1"><a class="header-anchor" href="#使用pip或uv安装-mineru"><span><strong>使用<code>pip</code>或<code>uv</code>安装 MinerU</strong></span></a></h3><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># (推荐) 使用 Conda 创建环境</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">conda</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> create</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -n</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> MinerU</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> python=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">3.13</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 激活环境</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">conda</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> activate</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> MinerU</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 安装 uv</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pip</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --upgrade</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> pip</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://mirrors.aliyun.com/pypi/simple</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pip</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> uv</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://mirrors.aliyun.com/pypi/simple</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 安装 mineru[core]</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">uv</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> pip</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -U</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">mineru[core]</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://mirrors.aliyun.com/pypi/simple</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># (可选) 安装 mineru[all] (即 mineru[core,vllm])</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">uv</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> pip</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -U</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">mineru[all]</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://mirrors.aliyun.com/pypi/simple</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="使用dockerfile构建-mineru-镜像" tabindex="-1"><a class="header-anchor" href="#使用dockerfile构建-mineru-镜像"><span><strong>使用<code>Dockerfile</code>构建 MinerU 镜像</strong></span></a></h3><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 获取 Dockerfile</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">wget</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://gcore.jsdelivr.net/gh/opendatalab/MinerU@master/docker/china/Dockerfile</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 构建</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">docker</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> build</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -t</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> mineru-vllm:latest</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Dockerfile</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> .</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container warning"><p class="hint-container-title">注意</p><p>Dockerfile默认使用<code>vllm/vllm-openai:v0.10.1.1</code>作为基础镜像， 该版本的vLLM v1 engine对显卡型号支持有限，如您无法在Turing及更早架构的显卡上使用vLLM加速推理，可通过更改基础镜像为<code>vllm/vllm-openai:v0.10.2</code>来解决该问题。</p></div><div class="hint-container note"><p class="hint-container-title">注</p><p>使用vllm加速VLM模型推理，需要满足的条件是：</p><ul><li>设备包含Turing及以后架构的显卡，且可用显存大于等于8G。</li><li>物理机的显卡驱动应支持 <mark>CUDA 12.8</mark> 或更高版本，可通过<code>nvidia-smi</code>命令检查驱动版本。</li><li>docker中能够访问物理机的显卡设备。</li></ul></div><h2 id="使用指南" tabindex="-1"><a class="header-anchor" href="#使用指南"><span>使用指南</span></a></h2><h3 id="快速配置模型源" tabindex="-1"><a class="header-anchor" href="#快速配置模型源"><span>快速配置模型源</span></a></h3><div class="hint-container tip"><p class="hint-container-title">提示</p><p>MinerU默认使用<code>huggingface</code>作为模型源。 若用户网络无法访问Hugging Face，可以通过环境变量便捷地切换模型源为<code>modelscope</code>。</p></div><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">export</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> MINERU_MODEL_SOURCE</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">modelscope</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="通过命令行使用" tabindex="-1"><a class="header-anchor" href="#通过命令行使用"><span>通过命令行使用</span></a></h3><p>MinerU内置了命令行工具，用户可以通过命令行快速使用MinerU进行PDF解析。</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 默认使用pipeline后端解析</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mineru</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -p</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">input_pat</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">h</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -o</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">output_pat</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">h</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="通过-python-api-调用" tabindex="-1"><a class="header-anchor" href="#通过-python-api-调用"><span>通过 python api 调用</span></a></h3><p><a href="https://github.com/opendatalab/MinerU/blob/master/demo/demo.py" target="_blank" rel="noopener noreferrer">Python 调用示例</a></p><h3 id="通过-fast-api-调用" tabindex="-1"><a class="header-anchor" href="#通过-fast-api-调用"><span>通过 fast api 调用</span></a></h3><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mineru-api</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --host</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0.0.0.0</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --port</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 8000</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>在浏览器中访问 http://127.0.0.1:8000/docs 查看API文档。</p></div><h3 id="启动-gradio-webui-可视化前端" tabindex="-1"><a class="header-anchor" href="#启动-gradio-webui-可视化前端"><span>启动 gradio webui 可视化前端</span></a></h3><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 使用 pipeline/vlm-transformers/vlm-http-client 后端</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mineru-gradio</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --server-name</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0.0.0.0</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --server-port</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 7860</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 或使用 vlm-vllm-engine/pipeline 后端（需安装vllm环境）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mineru-gradio</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --server-name</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0.0.0.0</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --server-port</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 7860</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-vllm-engine</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> true</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><ul><li>在浏览器中访问 http://127.0.0.1:7860 使用 Gradio WebUI。</li><li>访问 http://127.0.0.1:7860/?view=api 使用 Gradio API。</li></ul></div><h3 id="使用-http-client-server-方式调用" tabindex="-1"><a class="header-anchor" href="#使用-http-client-server-方式调用"><span>使用 http-client/server 方式调用</span></a></h3><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 启动 vllm server（需安装vllm环境）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mineru-vllm-server</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --port</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 30000</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>在另一个终端中通过http client连接vllm server（只需cpu与网络，不需要vllm环境）</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mineru</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -p</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">input_pat</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">h</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -o</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">output_pat</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">h</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -b</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> vlm-http-client</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -u</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> http://127.0.0.1:30000</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><h2 id="部署指南" tabindex="-1"><a class="header-anchor" href="#部署指南"><span>部署指南</span></a></h2><p>我们提供了compose.yml文件，您可以通过它来快速启动MinerU服务。</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">wget</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://gcore.jsdelivr.net/gh/opendatalab/MinerU@master/docker/compose.yaml</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container note"><p class="hint-container-title">注</p><ul><li>compose.yaml文件中包含了MinerU的多个服务配置，您可以根据需要选择启动特定的服务。</li><li>不同的服务可能会有额外的参数配置，您可以在compose.yaml文件中查看并编辑。</li><li>由于vllm推理加速框架预分配显存的特性，您可能无法在同一台机器上同时运行多个vllm服务，因此请确保在启动vlm-vllm-server服务或使用vlm-vllm-engine后端时，其他可能使用显存的服务已停止。</li></ul></div><hr><h3 id="启动-vllm-server-服务" tabindex="-1"><a class="header-anchor" href="#启动-vllm-server-服务"><span><strong>启动 vLLM Server 服务</strong></span></a></h3><p>并通过vlm-http-client后端连接vllm-server</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">docker</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> compose</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> compose.yaml</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --profile</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> vllm-server</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> up</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -d</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>在另一个终端中通过http client连接vllm server（只需cpu与网络，不需要vllm环境）</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mineru</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -p</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">input_pat</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">h</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -o</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">output_pat</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">h</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -b</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> vlm-http-client</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -u</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> http://</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">server_i</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">p</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:30000</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></div><hr><h3 id="启动-web-api-服务" tabindex="-1"><a class="header-anchor" href="#启动-web-api-服务"><span><strong>启动 Web API 服务</strong></span></a></h3><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">docker</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> compose</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> compose.yaml</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --profile</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> api</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> up</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -d</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>在浏览器中访问 http://&lt;server_ip&gt;:8000/docs 查看API文档。</p></div><hr><h3 id="启动-gradio-webui-服务" tabindex="-1"><a class="header-anchor" href="#启动-gradio-webui-服务"><span><strong>启动 Gradio WebUI 服务</strong></span></a></h3><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">docker</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> compose</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> compose.yaml</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --profile</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> gradio</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> up</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -d</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><ul><li>在浏览器中访问 http://&lt;server_ip&gt;:7860 使用 Gradio WebUI。</li><li>访问 http://&lt;server_ip&gt;:7860/?view=api 使用 Gradio API。</li></ul></div><h2 id="帮助信息" tabindex="-1"><a class="header-anchor" href="#帮助信息"><span>帮助信息</span></a></h2><ul><li>mineru</li></ul><div class="language-plaintext line-numbers-mode" data-highlighter="shiki" data-ext="plaintext" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-plaintext"><span class="line"><span>mineru --help</span></span>
<span class="line"><span>Usage: mineru [OPTIONS]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Options:</span></span>
<span class="line"><span>  -v, --version                   显示版本并退出</span></span>
<span class="line"><span>  -p, --path PATH                 输入文件路径或目录（必填）</span></span>
<span class="line"><span>  -o, --output PATH               输出目录（必填）</span></span>
<span class="line"><span>  -m, --method [auto|txt|ocr]     解析方法：auto（默认）、txt、ocr（仅用于 pipeline 后端）</span></span>
<span class="line"><span>  -b, --backend [pipeline|vlm-transformers|vlm-vllm-engine|vlm-http-client]</span></span>
<span class="line"><span>                                  解析后端（默认为 pipeline）</span></span>
<span class="line"><span>  -l, --lang [ch|ch_server|ch_lite|en|korean|japan|chinese_cht|ta|te|ka|th|el|latin|arabic|east_slavic|cyrillic|devanagari]</span></span>
<span class="line"><span>                                  指定文档语言（可提升 OCR 准确率，仅用于 pipeline 后端）</span></span>
<span class="line"><span>  -u, --url TEXT                  当使用 http-client 时，需指定服务地址</span></span>
<span class="line"><span>  -s, --start INTEGER             开始解析的页码（从 0 开始）</span></span>
<span class="line"><span>  -e, --end INTEGER               结束解析的页码（从 0 开始）</span></span>
<span class="line"><span>  -f, --formula BOOLEAN           是否启用公式解析（默认开启）</span></span>
<span class="line"><span>  -t, --table BOOLEAN             是否启用表格解析（默认开启）</span></span>
<span class="line"><span>  -d, --device TEXT               推理设备（如 cpu/cuda/cuda:0/npu/mps，仅 pipeline 后端）</span></span>
<span class="line"><span>  --vram INTEGER                  单进程最大 GPU 显存占用(GB)（仅 pipeline 后端）</span></span>
<span class="line"><span>  --source [huggingface|modelscope|local]</span></span>
<span class="line"><span>                                  模型来源，默认 huggingface</span></span>
<span class="line"><span>  --help                          显示帮助信息</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>mineru-api</li></ul><div class="language-plaintext line-numbers-mode" data-highlighter="shiki" data-ext="plaintext" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-plaintext"><span class="line"><span>mineru-api --help</span></span>
<span class="line"><span>Usage: mineru-api [OPTIONS]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Options:</span></span>
<span class="line"><span>  --host TEXT     服务器主机地址（默认：127.0.0.1）</span></span>
<span class="line"><span>  --port INTEGER  服务器端口（默认：8000）</span></span>
<span class="line"><span>  --reload        启用自动重载（开发模式）</span></span>
<span class="line"><span>  --help          显示此帮助信息并退出</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>mineru-gradio</li></ul><div class="language-plaintext line-numbers-mode" data-highlighter="shiki" data-ext="plaintext" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-plaintext"><span class="line"><span>mineru-gradio --help</span></span>
<span class="line"><span>Usage: mineru-gradio [OPTIONS]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Options:</span></span>
<span class="line"><span>  --enable-example BOOLEAN        启用示例文件输入(需要将示例文件放置在当前</span></span>
<span class="line"><span>                                  执行命令目录下的 \`example\` 文件夹中)</span></span>
<span class="line"><span>  --enable-vllm-engine BOOLEAN    启用 vllm 引擎后端以提高处理速度</span></span>
<span class="line"><span>  --enable-api BOOLEAN            启用 Gradio API 以提供应用程序服务</span></span>
<span class="line"><span>  --max-convert-pages INTEGER     设置从 PDF 转换为 Markdown 的最大页数</span></span>
<span class="line"><span>  --server-name TEXT              设置 Gradio 应用程序的服务器主机名</span></span>
<span class="line"><span>  --server-port INTEGER           设置 Gradio 应用程序的服务器端口</span></span>
<span class="line"><span>  --latex-delimiters-type [a|b|all]</span></span>
<span class="line"><span>                                  设置在 Markdown 渲染中使用的 LaTeX 分隔符类型</span></span>
<span class="line"><span>                                  (&#39;a&#39; 表示 &#39;$&#39; 类型，&#39;b&#39; 表示 &#39;()[]&#39; 类型，</span></span>
<span class="line"><span>                                  &#39;all&#39; 表示两种类型都使用)</span></span>
<span class="line"><span>  --help                          显示此帮助信息并退出</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="环境变量" tabindex="-1"><a class="header-anchor" href="#环境变量"><span>环境变量</span></a></h2><p>MinerU命令行工具的某些参数存在相同功能的环境变量配置，通常环境变量配置的优先级高于命令行参数，且在所有命令行工具中都生效。</p><ul><li><p><code>MINERU_DEVICE_MODE</code></p><ul><li>用于指定推理设备</li><li>支持<code>cpu/cuda/cuda:0/npu/mps</code>等设备类型</li><li>仅对<code>pipeline</code>后端生效</li></ul></li><li><p><code>MINERU_VIRTUAL_VRAM_SIZE</code></p><ul><li>用于指定单进程最大 GPU 显存占用(GB)</li><li>仅对<code>pipeline</code>后端生效</li></ul></li><li><p><code>MINERU_MODEL_SOURCE</code></p><ul><li>用于指定模型来源</li><li>支持<code>huggingface/modelscope/local</code></li><li>默认为<code>huggingface</code>可通过环境变量切换为<code>modelscope</code>或使用本地模型</li></ul></li><li><p><code>MINERU_TOOLS_CONFIG_JSON</code></p><ul><li>用于指定配置文件路径</li><li>默认为用户目录下的<code>mineru.json</code>，可通过环境变量指定其他配置文件路径</li></ul></li><li><p><code>MINERU_FORMULA_ENABLE</code></p><ul><li>用于启用公式解析</li><li>默认为<code>true</code>，可通过环境变量设置为<code>false</code>来禁用公式解析</li></ul></li><li><p><code>MINERU_TABLE_ENABLE</code></p><ul><li>用于启用表格解析</li><li>默认为<code>true</code>，可通过环境变量设置为<code>false</code>来禁用表格解析</li></ul></li></ul>`,55)])])}const d=i(l,[["render",t]]),r=JSON.parse('{"path":"/ai/app/mineru/","title":"MinerU","lang":"zh-CN","frontmatter":{"title":"MinerU","tags":["OCR"],"createTime":"2025/10/10 00:00:00","permalink":"/ai/app/mineru/"},"readingTime":{"minutes":5.84,"words":1751},"git":{"createdTime":1760546054000,"updatedTime":1760583530000,"contributors":[{"name":"LiuKun/Windows","username":"","email":"liukunup@163.com","commits":1,"avatar":"https://gravatar.com/avatar/93adde9a3709e088c6c4b0bd8763791893e8be4840a992204be1ac5d20e50f0c?d=retro"},{"name":"刘坤","username":"","email":"liukunup@163.com","commits":1,"avatar":"https://gravatar.com/avatar/93adde9a3709e088c6c4b0bd8763791893e8be4840a992204be1ac5d20e50f0c?d=retro"}]},"filePathRelative":"ai/1.App/mineru.md","headers":[]}');export{d as comp,r as data};
